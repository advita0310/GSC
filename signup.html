<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="Welcome to Tidy blue. Tidy blue is a website that aims to connect NGOs and industries.
  We encourage effective waste disposal and recycling to contribute to a cleaner environment.">
  <meta name="keywords" content="Tidy blue, clean ocean, NGOS,plastic waste, recycle,industries">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  <link rel="stylesheet" href="./style1.css">
 
  <title>Tidy blue | Login</title>
</head>
<body>
  <header>
    <nav id="navbar">
      <div class="container">
         <img src="./images/Tidy.jpg" alt="my image"> 
        <h1 class="logo"><a href="index.html">Tidy Blue</a></h1>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="NGO.html">Schedule</a></li>
          <li><a class="current" href="signup.html">Login</a></li>
          <li><a href="products.html">Products</a></li>
        </ul>
      </div>
    
    </nav>
    <video id="background-video" autoplay loop muted poster="./images/sea.mp4">
      <source src="./images/sea.mp4" type="video/mp4">
      </video>
    <div id="container">
      <div class=form-wrap>
        <h1>Sign Up</h1>


        <body>
          <label for="firstname">First Name</label>
          <input type="text" id="firstname" name="firstname"  placeholder="firstname"/>
          <br>
          <label for="lastname">Last Name</label>
          <input type="text" id="lastname" name="lastname" placeholder="lastname" />
          <br>
          <label for="email">Email</label><br>
          <input type="email" name="email" id="email" placeholder="email" />
          <br>
          <label for="password">Password</label><br>
          <input type="password" name="password" id="password"  placeholder="password"/>
          <br>
          <label for="password">Confirm Password</label>
          <input type="password" name="passwordtwo" id="passwordtwo" placeholder="confirm password">
          <br>
          <button id="button">register</button>
        
          <button id="login"><a href="./role.html">LOGIN </button></a>
      
          <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-analytics.js";
            import {
              getAuth,
              createUserWithEmailAndPassword,
              signInWithEmailAndPassword
            } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-auth.js";
      
            import {
              getDatabase,
              set,
              ref,
              
              child
            } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-database.js";
      
            const firebaseConfig = {
              apiKey: "AIzaSyAsjKcG4_9oVabiY3BGLaq3cyKLpVE8aIw",
              authDomain: "ngo-database-a3331.firebaseapp.com",
              databaseURL: "https://ngo-database-a3331-default-rtdb.firebaseio.com",
              projectId: "ngo-database-a3331",
              storageBucket: "ngo-database-a3331.appspot.com",
              messagingSenderId: "661666718917",
              appId: "1:661666718917:web:2e00dc06477ec2c9bbfcac",
              measurementId: "G-WXL8CRHR40",
            };
      
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const auth = getAuth();
            const database = getDatabase(app);
      
            document.getElementById("button").addEventListener("click", function(){
              var name = document.getElementById("firstname").value;
              var surname = document.getElementById("lastname").value;
              var email = document.getElementById("email").value;
              var password =document.getElementById("password").value;
           
              createUserWithEmailAndPassword(auth, email, password)
              .then((usercredential)=>{
      
                  const user = usercredential.user;
                  console.log(user);
      
                  set(ref(database,'users/'+user.uid),{
                      firstname: name,
                      lastname: surname,
                      Email: email,
                      last_login: Date.now()
                  })
      
                  alert("registration successfully");
              }).catch((error)=>{
                  const errorcode = error.code;
                  const errorMessafe = error.message;
      
                  console.log(errorMessafe);
                  alert(error);
              });
      
              console.log("bankai");
      
      
              
            });
      
            ///////////LOGIN/////////////
      
            document.getElementById("login").addEventListener("click",function() {
              var email = document.getElementById("email").value;
              var Password = document.getElementById("password").value;
      
              signInWithEmailAndPassword(auth, email, Password)
              .then(()=>{
                
                alert("USER LOGGED IN");
              })
              .catch((error)=>{
                const errorcode = error.code;
                  const errorMessafe = error.message;
      
                  console.log(errorMessafe);
                  alert(error);
      
              })
      
            }
      );
      
      
            
          </script>
<!--       

        <h1>Sign Up</h1>
        <p>It's free and only takes a minute</p>
        <form >
          <div class"form-group>
            <label for="first-name">First Name</label><br>
            <input type="text" name="firstName" id="firstName"  size=30 />
          </div>
          <div class"form-group>
            <label for="last-name">Last Name</label><br>
            <input type="text" name="lastName" id="lastName"  size=30/>
          </div>
          <div class"form-group>
            <label for="email">Email</label><br>
            <input type="text" name="Email" id="Email"  size=30/>
          </div>
          <div class"form-group>
            <label for="password">Password</label><br>
            <input type="password" name="Password" id="Password"  size=30 />
          </div>
          <div class"form-group>
            <label for="password2">Confirm Password</label><br>
            <input type="password" name="Password2" id="Password2" size=30/>
          </div> -->
         
          
          <!-- <input type="submit" class="btn" id='register' name="register" value="register" onclick="register()" />
           <p class="button-text"> -->
             By Clicking the register button,you agree to our
             <a href="#">Terms & condition</a> and
             <a href="#">privacy policy</a>
           </p>
         </form>
        
         </div>
        
      </div>

    <br><br><br>
        <footer id="main-footer">
          <p>Tidy Blue &copy; 2023, All RIghts Reserved</p>
        </footer>
      </div>
      </div>
    
      
    </body>